<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <title>composedPath() 簡單測試</title>
    <style>
        #outer {
            padding: 20px;
            background-color: lightblue;
            border: 1px solid blue;
        }

        #inner {
            padding: 20px;
            background-color: lightcoral;
            border: 1px solid red;
            cursor: pointer;
        }
    </style>
</head>

<body>

    <div id="outer">
        Outer Container
        <div id="inner">
            點擊我 (Inner Element)
        </div>
    </div>

    <p>請開啟瀏覽器的 **開發者工具 (Console)** 查看輸出結果。</p>

    <script>
        // JavaScript 代碼將放在這裡
        // 在最外層的 'outer' 元素上附加事件監聽器
        const outerElement = document.getElementById('outer');

        outerElement.addEventListener('click', function (event) {
            console.log("--- 點擊事件發生 ---");

            // 1. 取得完整的事件路徑
            const path = event.composedPath();

            console.log("事件目標 (event.target):", event.target);
            console.log("當前目標 (event.currentTarget):", event.currentTarget);

            console.log("--- event.composedPath() 輸出路徑 ---");

            // 2. 遍歷並印出路徑中的每一個物件
            path.forEach((element, index) => {
                // 嘗試取得元素的 id 或標籤名稱
                let name = element.id || element.tagName || element.constructor.name;

                console.log(`[${index}]: <${name}>`);
            });

            console.log("------------------------");
        });
    </script>
</body>

</html>